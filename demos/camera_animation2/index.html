<!DOCTYPE html>
<html>
	<head>
		<title>StormEngineC</title>
		<meta charset=utf-8 />
		
		<style>
			body{
				background:#66ACA4;
				color:#FFF;
			}
		</style>
		<script src="../../StormEngineC/StormEngineC.class.js"></script>
	</head>
	
	<body>
		<canvas id="stormCanvas" width="512" height="512"></canvas>
		<script>
			
			stormEngineC.createWebGL({'target':	'stormCanvas', // ID canvas
									  'callback':	function(){},
									  'editMode':	true,
									  'enableRender':false});
			stormEngineC.setWebGLSSAO(true, 3.2);
			stormEngineC.setWebGLBackground('environmentMap');   
			
			
			// LIGHTS
			stormEngineC.setAmbientColor($V3([121/255, 130/255, 138/255]));
			
			var lightSun = stormEngineC.createLight({'type':'sun',
													 'direction':$V3([-0.49,-1.0,-0.20]), // type sun only direction param
													 'color':5770 // V3 color or int kelvins(1000K-15000K http://en.wikipedia.org/wiki/Color_temperature)
													});
			
			
		
			// SCENE
			var nodeGround = stormEngineC.createNode();
			nodeGround.loadObj({'objUrl':"../_RESOURCES/camera_animation2/incubadora.obj"});
			nodeGround.setPosition($V3([0.0, 0.0, -10.0]));
		
			var parkingLines = stormEngineC.createGroup();
			var meshGround = new StormMesh();
			meshGround.loadCollada({'group':parkingLines,
									'daeUrl':"../_RESOURCES/camera_animation2/parkingLines.DAE",
									'onload':function() {
										  parkingLines.setPosition($V3([0.0, 0.0, -10.0])); 
										}
									});
			
			
			// CAMERA
			var nodeCam = stormEngineC.createCamera($V3([97.85, 28.90, -159.0]), 8.0); // create one camera
			stormEngineC.setWebGLCam(nodeCam);
			nodeCam.enableDOF();
			
		
			stormEngineC.PanelAnimationTimeline.setStart(0);
			stormEngineC.PanelAnimationTimeline.setEnd(1000);
		
			
			nodeCam.nodeGoal.setPosition($V3([97.85, 28.90, -159.0]));
			nodeCam.nodePivot.setPosition($V3([96.71, 27.88, -156.0]));
			nodeCam.setAnimKey(0); // save the current node position on frame 0
		
			nodeCam.nodeGoal.setPosition($V3([89.95, 24.44, -136.0]));
			nodeCam.nodePivot.setPosition($V3([88.08, 23.11, -130.0]));
			nodeCam.setAnimKey(100);
		
			nodeCam.nodeGoal.setPosition($V3([44.56, 21.55, -116.0]));
			nodeCam.nodePivot.setPosition($V3([46.64, 20.13, -114.0]));
			nodeCam.setAnimKey(300);
			
			nodeCam.nodeGoal.setPosition($V3([25.66, 18.64, -86.2]));
			nodeCam.nodePivot.setPosition($V3([28.40, 17.39, -86.7]));
			nodeCam.setAnimKey(400);
			
			nodeCam.nodeGoal.setPosition($V3([34.08, 17.43, -65.5]));
			nodeCam.nodePivot.setPosition($V3([36.10, 16.29, -67.5]));
			nodeCam.setAnimKey(500);
			
			nodeCam.nodeGoal.setPosition($V3([65.95, 15.40, -55.1]));
			nodeCam.nodePivot.setPosition($V3([66.53, 14.72, -57.9]));
			nodeCam.setAnimKey(600);
			
			nodeCam.nodeGoal.setPosition($V3([103.8, 16.24, -57.8]));
			nodeCam.nodePivot.setPosition($V3([101.6, 15.32, -60.5]));
			nodeCam.setAnimKey(700);
			
			nodeCam.nodeGoal.setPosition($V3([118.3, 16.37, -73.9]));
			nodeCam.nodePivot.setPosition($V3([115.2, 15.17, -75.3]));
			nodeCam.setAnimKey(800);
			
			nodeCam.nodeGoal.setPosition($V3([126.0, 13.52, -99.7]));
			nodeCam.nodePivot.setPosition($V3([123.3, 12.83, -98.9]));
			nodeCam.setAnimKey(900);
			
			nodeCam.nodeGoal.setPosition($V3([113.4, 13.26, -119.0]));
			nodeCam.nodePivot.setPosition($V3([110.7, 12.17, -116.0]));
			nodeCam.setAnimKey(1000);
		
			stormEngineC.PanelAnimationTimeline.play();
			
			
		  
		</script>				
			
		<br />
		WASD keys: Move
		<br />
    
	</body>
</html>
